<div class="row">
    <div class="col-12 text-center">
       <div class="btn-group mt-2 text-center">
  
    <button
(click)="changeMode('My Tickets')"
     [class]="mode == 'My Tickets' ? 'btn btn-success' : ' btn btn-primary' "  
     type="button">Created</button> <span style="color: #fff;"> |</span> 
     <button 
      (click)="changeMode('Assigned Tickets')"
     [class]="mode == 'Assigned Tickets' ? 'btn btn-success' : ' btn btn-primary' "
      type="button">Assigned Ticket</button>
    </div> 
    </div>
</div>

<div class="row">
    <div class="col-12">
        @if(mode == 'My Tickets'){
             <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Ticket No</th>
                    <th>Department</th>
                    <th>Created By</th>
                    <th>Contact No</th>
                    <th>Created Date</th>
                    <th>State</th>
                    <th>Assigned To</th>
                    <th>Category</th>
                    <th>Sub Category</th>
                     <th>Action</th>
                </tr>
            </thead>
            <tbody>
               @for(ticket of ticketsList;track $index){
 <tr>
                    <td>{{ticket.ticketNo}}</td>
                    <td>{{ticket.deptName}}</td>
                    <td>{{ticket.createdByEmployee}}</td>
                    <td>{{ticket.contactNo}}</td>
                    <td>{{ticket.createdDate}}</td>
                    <td>{{ticket.state}}</td>
                    <td>{{ticket.assignedToEmployee}}</td>
                    <td>{{ticket.parentCategory}}</td>
                    <td>{{ticket.childCategory}}</td>
                    <td>
                        @if(ticket.state=='Assigned'){
        <button class="btn btn-success" (click)="changeStatus('start',ticket.ticketId)">Start</button>
                        }
                        @else if (ticket.state=='In-Progress') {
     <button class="btn btn-sucsess"
                            (click)="changeStatus('close',ticket.ticketId)"
                            >Close</button>
                        }
                    </td>
                </tr>
               }
            </tbody>
    </table>
        }
        @else {
             <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Ticket No</th>
                    <th>Department</th>
                    <th>Created By</th>
                    <th>Contact No</th>
                    <th>Created Date</th>
                    <th>State</th>
                    <th>Assigned To</th>
                    <th>Category</th>
                    <th>Sub Category</th>
                     <th>Action</th>

                </tr>
            </thead>
            <tbody>
               @for(ticket of ticketsList;track $index){
 <tr>
    
                    <td>{{ticket.ticketNo}}</td>
                    <td>{{ticket.deptName}}</td>
                    <td>{{ticket.employeeName}}</td>
                    <td>{{ticket.contactNo}}</td>
                    <td>{{ticket.createdDate}}</td>
                    <td>{{ticket.state}}</td>
                    <td>{{ticket.assignedToEmployee}}</td>
                    <td>{{ticket.parentCategoryName}}</td>
                    <td>{{ticket.childCategoryName}}</td>
                    <td>
                        @if(ticket.state=='Assigned'){
        <button class="btn btn-start" (click)="changeStatus('start',ticket.ticketId)">Start</button>
                        }
                        @else if (ticket.state=='In-Progress') {
                            <button class="btn btn-success"
                            (click)="changeStatus('close',ticket.ticketId)"
                            >Close</button>
                        }
                    </td>
                </tr>
               }
            </tbody>
    </table>
        }
       
    </div>
</div>

